function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}
/**
 *
 * Validate that the PDF provided is a form.
 * @package    report
 * @subpackage reflectionexporter
 * @copyright  2022 Veronica Bermegui
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_reflectionexporter/validate_pdf",["report_reflectionexporter/pdf-lib","report_reflectionexporter/reflectionexporter","core/url"],(function(PDFLib,ReflectionExporter,URL){var fn,_ref,ValidatePDF=function(data){this._isForm(data)};return ValidatePDF.prototype._isForm=(fn=regeneratorRuntime.mark((function _callee(data){var formPdfBytes,link;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch(data.fileurl).then((function(res){return res.arrayBuffer()}));case 2:return formPdfBytes=_context.sent,_context.next=5,PDFLib.PDFDocument.load(formPdfBytes);case 5:if(0!=_context.sent.getForm().getFields().length){_context.next=14;break}return link=URL.relativeUrl("/report/reflectionexporter/index.php",{cid:data.cid,cmid:data.cmid,rid:data.rid,wf:1}),window.location.replace(link),_context.abrupt("return");case 14:ReflectionExporter.init(JSON.parse(document.querySelector(".importing-animation").getAttribute("data-info")));case 15:case"end":return _context.stop()}}),_callee)})),_ref=function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))},function(_x){return _ref.apply(this,arguments)}),ValidatePDF}));

//# sourceMappingURL=validate_pdf.min.js.map