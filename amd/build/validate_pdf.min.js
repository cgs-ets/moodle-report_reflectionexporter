/**
 *
 * Validate that the PDF provided is a form.
 * @package    report
 * @subpackage reflectionexporter
 * @copyright  2022 Veronica Bermegui
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_reflectionexporter/validate_pdf",["report_reflectionexporter/pdf-lib","report_reflectionexporter/reflectionexporter","core/url"],(function(PDFLib,ReflectionExporter,URL){var ValidatePDF=function(data){this._isForm(data)};return ValidatePDF.prototype._isForm=async function(data){const formPdfBytes=await fetch(data.fileurl).then((res=>res.arrayBuffer()));if(0!=(await PDFLib.PDFDocument.load(formPdfBytes)).getForm().getFields().length)ReflectionExporter.init(JSON.parse(document.querySelector(".importing-animation").getAttribute("data-info")));else{const link=URL.relativeUrl("/report/reflectionexporter/index.php",{cid:data.cid,cmid:data.cmid,rid:data.rid,wf:1});window.location.replace(link)}},ValidatePDF}));

//# sourceMappingURL=validate_pdf.min.js.map